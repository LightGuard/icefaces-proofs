usePlugin('groovy')
usePlugin('war')
usePlugin('jetty')

version = '1.0-SNAPSHOT'
targetCompatibility = '1.5'
sourceCompatibility = '1.5'

// Needed for Groovy 1.6 -- http://jira.codehaus.org/browse/GRADLE-323
testCompile.groovyOptions*.fork = false

dependencies {
  addMavenRepo()
  addMavenRepo('http://repository.jboss.org/maven2')
  addMavenStyleRepo('jboss', 'http://repository.jboss.org/maven2')

  addConfiguration('servlet', { 
    extendsFrom = ['runtime']
  })

  excludeRules.add(org:'com.sun.facelets')
  //excludeRules.add(org:'org.hibernate')
  //excludeRules.add(org:'javax.transaction')
  //excludeRules.add(org:'javax.persistence')
  excludeRules.add(org:'logkit')
  excludeRules.add(org:'javax.servlet')
  excludeRules.add(org:'javax.el')
  excludeRules.add(org:'xml-apis')

  compile 'javax.faces:jsf-api:1.2_12', 'org.jboss.seam:jboss-seam:2.1.1.GA'

  runtime 'org.icefaces:icefaces-facelets:1.8.0', 'org.icefaces:icefaces-comps:1.8.0', 'org.jboss.seam:jboss-seam:2.1.1.GA', 
          'org.jboss.seam:jboss-seam-debug:2.1.1.GA', 'org.jboss.seam:jboss-seam-ui:2.1.1.GA',  'org.jboss.seam:jboss-seam-ioc:2.1.1.GA'

  testCompile 'org.codehaus.groovy:groovy-all:1.6.1'

  servlet 'javax.transaction:jta:1.0.1B', 'org.hibernate:hibernate-validator:3.0.0.GA', 'javax.persistence:persistence-api:1.0',
          'javax.faces:jsf-api:1.2_12', 'javax.faces:jsf-impl:1.2_12' 
}
